<div class="form-container">
    <div *ngIf="isLoading" class="loading">
      Cargando formulario...
    </div>
  
    <form *ngIf="!isLoading" [formGroup]="form" (ngSubmit)="onSubmit($event)">
      <div *ngFor="let question of questions" class="question-container">
        <label>{{ question.question }}</label>
        
        <div *ngIf="isStarQuestion(question.type)" class="star-rating">
          <span 
            *ngFor="let star of [1,2,3,4,5]" 
            class="star"
            [class.selected]="form.get('question_' + question.id)?.value >= star"
            (click)="onStarSelect(question.id, star)">
            ★
          </span>
        </div>
  
        <textarea 
          *ngIf="isTextareaQuestion(question.type)"
          [formControlName]="'question_' + question.id"
          rows="4"
          placeholder="Escribe tu respuesta aquí...">
        </textarea>
      </div>
  
      <button type="submit" [disabled]="!form.valid">Enviar</button>
    </form>
  </div>